<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>EV AccuCheck Intake | ZekerOpWeg</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Intakeformulier voor ZekerOpWeg EV AccuCheck inclusief AVILOO accudiagnose.">

  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

<section class="intake-container">

  <h1>EV AccuCheck Intake</h1>

  <p class="intake-intro">
    Vul dit formulier in om uw TÜV-gecertificeerde accudiagnose
    snel en zorgvuldig te laten uitvoeren.
    ⏱️ Duur: ± 2 minuten.
  </p>


<form id="accucheckForm"
      action="https://formsubmit.co/accucheck@zekeropweg.nu"
      method="POST">


  <!-- Hidden -->
  <input type="hidden" name="_template" value="table">
  <input type="hidden" name="bron" value="accucheck-intake">
  <input type="hidden" name="dienst" value="aviloo-flash">
  <input type="hidden" name="versie" value="2026-1">
  <input type="hidden" name="product" id="productField">
  <input type="hidden" name="platform" id="platformField" value="">
  <input type="hidden" name="kabeladvies" id="kabeladviesField" value="">
  <input type="hidden" name="_captcha" value="false">
  <input type="hidden" name="_next" value="https://zekeropweg.nu/bedankt.html">
  <input type="hidden" name="_subject" value="Nieuwe AccuCheck Intake">

 
  <h3>Klantgegevens</h3>

  <label>Naam *</label>
  <input type="text" name="naam" required>

  <label>E-mail *</label>
  <input type="email" name="email" required>

  <label>Telefoon *</label>
  <input type="tel" name="telefoon" required>

  <label>Klanttype *</label>
  <select name="klanttype" id="klanttype" required>
    <option value="">Selecteer</option>
    <option value="particulier">Particulier</option>
    <option value="zakelijk">Zakelijk</option>
  </select>


  <h3>Voertuiggegevens</h3>

  <label>Kenteken *</label>
  <input type="text" name="kenteken" required>

  <label>VIN / Chassisnummer</label>
  <input type="text" name="vin">

  <label>Merk *</label>
  <input type="text" name="merk" id="merk" required>

  <label>Model *</label>
  <input type="text" name="model" id="model" required>

  <label>Bouwjaar *</label>
  <input type="number" name="bouwjaar" id="bouwjaar" required>

  <label>Kilometerstand *</label>
  <input type="number" name="kmstand" required>


  <!-- Particulier -->
  <div id="particulierFields" style="display:none;">

    <h3>Gebruik en Laden</h3>

    <label>Hoe vaak snellaadt u?</label>
    <select name="snelladen">
      <option value="">Selecteer</option>
      <option value="zelden">Zelden</option>
      <option value="soms">Soms</option>
      <option value="regelmatig">Regelmatig</option>
      <option value="vaak">Vaak</option>
    </select>

    <label>Hoofdgebruik</label>
    <select name="gebruik">
      <option value="">Selecteer</option>
      <option value="woon-werk">Woon-werk</option>
      <option value="zakelijk">Zakelijk</option>
      <option value="lange-ritten">Lange ritten</option>
      <option value="stad">Stadsverkeer</option>
    </select>

  </div>


  <!-- Zakelijk -->
  <div id="zakelijkFields" style="display:none;">

    <h3>Zakelijke informatie</h3>

    <label>Bedrijfsnaam</label>
    <input type="text" name="bedrijfsnaam">

    <label>Doel van de check</label>
    <select name="doel_zakelijk">
      <option value="">Selecteer</option>
      <option value="voorraad">Voorraadcontrole</option>
      <option value="verkoop">Verkoopvoorbereiding</option>
      <option value="garantie">Garantieclaim</option>
      <option value="lease-einde">Lease-einde</option>
    </select>

  </div>


  <h3>Doel AccuCheck</h3>

  <select name="doel_algemeen" required>
    <option value="">Selecteer</option>
    <option value="aankoop">Aankoop</option>
    <option value="verkoop">Verkoop</option>
    <option value="garantie">Garantie</option>
    <option value="zekerheid">Zekerheid</option>
  </select>


  <h3>Toestemming</h3>

  <label class="checkbox">
    <input type="checkbox" name="toestemming" required>
    Ik ga akkoord met verwerking van mijn gegevens
  </label>

  <!-- Kabeladvies preview -->
<div id="kabelPreview" style="display:none; margin-top:20px; padding:12px; border:1px solid #d7b56d; border-radius:6px; background:#faf7f0;">
  <strong>Werkvoorbereiding</strong><br>
  <span id="kabelPreviewText"></span>
</div>


  <button type="submit" class="btn-primary">
    Intake verzenden
  </button>

</form>

</section>


<script>

/* ===========================
   BASIS VARIABELEN
=========================== */

const klanttype = document.getElementById("klanttype");
const particulier = document.getElementById("particulierFields");
const zakelijk = document.getElementById("zakelijkFields");
const productField = document.getElementById("productField");

const merkEl = document.getElementById("merk");
const modelEl = document.getElementById("model");
const bouwjaarEl = document.getElementById("bouwjaar");

const platformField = document.getElementById("platformField");
const kabelField = document.getElementById("kabeladviesField");

const preview = document.getElementById("kabelPreview");
const previewText = document.getElementById("kabelPreviewText");


/* ===========================
   PART / ZAKELIJK TOGGLE
=========================== */

function updateFields(type){

  if(type === "particulier"){
    particulier.style.display = "block";
    zakelijk.style.display = "none";
  }

  if(type === "zakelijk"){
    particulier.style.display.display = "none";
    zakelijk.style.display = "block";
  }

}

klanttype.addEventListener("change", function(){
  updateFields(this.value);
});


/* ===========================
   URL PARAMETER
=========================== */

function getQueryParam(param){
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

const dienst = getQueryParam("dienst");

if(dienst){

  if(dienst === "ev-accucheck-particulier"){
    klanttype.value = "particulier";
    updateFields("particulier");
  }

  if(dienst === "ev-accucheck-zakelijk"){
    klanttype.value = "zakelijk";
    updateFields("zakelijk");
  }

  if(productField){
    productField.value = dienst;
  }

}


/* ===========================
   KABEL LOGICA
=========================== */

function norm(s){
  return (s || "").toString().trim().toLowerCase();
}


function inferPlatform(merk, model){

  const m = norm(merk);
  const mo = norm(model);

  if(["volkswagen","vw","skoda","audi","seat","cupra","porsche"].includes(m)) return "vag";
  if(m.includes("tesla")) return "tesla";
  if(m.includes("hyundai") || m.includes("kia")) return "hyundai_kia";
  if(m.includes("nissan")) return "nissan";
  if(m.includes("bmw") || m.includes("mini")) return "bmw";
  if(m.includes("renault")) return "renault";

  if(mo.includes("enyaq") || mo.includes("id.") || mo.includes("born") || mo.includes("q4")) return "vag";
  if(mo.includes("model")) return "tesla";
  if(mo.includes("ioniq") || mo.includes("ev6") || mo.includes("kona")) return "hyundai_kia";
  if(mo.includes("leaf")) return "nissan";

  return "onbekend";
}


function inferCable(platform, bouwjaar){

  const year = parseInt(bouwjaar, 10);
  const y = Number.isFinite(year) ? year : 9999;

  if(platform === "tesla"){
    return {kabel:"14019", reden:"Tesla profiel"};
  }

  if(platform === "vag"){
    if(y >= 2020) return {kabel:"14018", reden:"VAG modern (DoIP Ethernet)"};
    return {kabel:"14005", reden:"VAG ouder (OBD CAN)"};
  }

  if(platform === "hyundai_kia"){
    if(y >= 2020) return {kabel:"14018", reden:"Hyundai Kia modern"};
    return {kabel:"14005", reden:"Hyundai Kia ouder"};
  }

  if(platform === "nissan"){
    if(y <= 2016) return {kabel:"14008", reden:"Nissan legacy"};
    return {kabel:"14005", reden:"Nissan OBD"};
  }

  return {kabel:"14018", reden:"Onbekend → standaard DoIP"};
}


/* ===========================
   UPDATE ADVIES
=========================== */

function updateKabelAdvies(){

  if(!merkEl || !bouwjaarEl) return;

  const merk = merkEl.value;
  const model = modelEl.value;
  const bouwjaar = bouwjaarEl.value;

  if(!merk || !bouwjaar){
    preview.style.display = "none";
    platformField.value = "";
    kabelField.value = "";
    return;
  }

  const platform = inferPlatform(merk, model);
  const result = inferCable(platform, bouwjaar);

  platformField.value = platform;
  kabelField.value = result.kabel;

  preview.style.display = "block";
  previewText.textContent =
    "Neem kabel " + result.kabel +
    " mee (" + result.reden + ").";

}


/* ===========================
   LISTENERS
=========================== */

["input","change"].forEach(evt => {

  if(merkEl) merkEl.addEventListener(evt, updateKabelAdvies);
  if(modelEl) modelEl.addEventListener(evt, updateKabelAdvies);
  if(bouwjaarEl) bouwjaarEl.addEventListener(evt, updateKabelAdvies);

});


document.addEventListener("DOMContentLoaded", updateKabelAdvies);

</script>



</body>
</html>
