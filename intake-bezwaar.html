<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Bezwaar starten | ZekerOpWeg</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/styles.css">
</head>

<body class="fade-in">
<section class="container">

<h1>Bezwaar starten</h1>
<p>Vul hieronder uw gegevens in. Wij starten direct uw bezwaarprocedure.</p>

<form id="bezwaarForm" enctype="multipart/form-data">

  <input name="naam" placeholder="Naam" required>
  <input name="email" placeholder="E-mail" required>
  <input name="kenteken" placeholder="Kenteken" required>
  <input name="beschikking" placeholder="Beschikkingsnummer" required>
  <input name="type" placeholder="Overtreding (bijv. rood licht)" required>

  <!-- abonnementscode -->
  <input type="hidden" name="token" value="TEST-PEPIJN">

  <label>Toelichting (optioneel)</label>
  <textarea name="toelichting" rows="4"></textarea>

  <label>Upload boete (PDF of foto)</label>
  <input type="file" name="boete" accept=".pdf,image/*" required>

  <button type="submit" class="btn-primary">Bezwaar starten</button>
</form>

<div id="apiResult" style="margin-top:1.5rem;"></div>

<script>
document.getElementById("bezwaarForm").addEventListener("submit", async e => {
  e.preventDefault();
  const fd = new FormData(e.target);

  const r = await fetch("https://script.google.com/macros/s/AKfycbxEBIM7_Xf8I13oqyW3uS8cwbZf6qv6eTjTl_ma4HvBFdLFex9HvfTtqqk9OPdNyeBuXQ/exec", {
    method:"POST",
    body: fd
  });

  const t = await r.text();
  document.getElementById("apiResult").innerText = t;
});
</script>

</section>
</body>
</html>

