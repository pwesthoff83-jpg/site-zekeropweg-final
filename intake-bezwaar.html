<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Bezwaar starten | ZekerOpWeg</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/styles.css">
</head>

<body class="fade-in">
<section class="container">

<h1>Bezwaar starten</h1>
<p>Vul hieronder uw gegevens in. Wij starten direct uw bezwaarprocedure.</p>

<form id="bezwaarForm" enctype="multipart/form-data">

  <input name="naam" placeholder="Naam" required>
  <input name="email" placeholder="E-mail" required>
  <input name="kenteken" placeholder="Kenteken" required>
  <input name="beschikking" placeholder="Beschikkingsnummer" required>
  <input name="type" placeholder="Overtreding (bijv. rood licht)" required>
  <input type="hidden" name="token" value="TEST-PEPIJN">

  <div class="form-group">
    <label>Toelichting</label>
    <textarea name="toelichting" rows="4"></textarea>
  </div>

  <div class="form-group">
    <label>Upload boete (PDF of foto)</label>
    <input type="file" name="boete" accept=".pdf,image/*" required>
  </div>

  <button class="btn-primary" type="submit">Bezwaar starten</button>
</form>
<div id="apiResult"></div>

<script>
document.getElementById("bezwaarForm").addEventListener("submit", async e => {
  e.preventDefault();

  const form = e.target;
  const fd = new FormData(form);

  const r = await fetch("https://script.google.com/macros/s/AKfycbyAj0gwQHRudMaf4HGhaVgOlq7YR5LrhhetRVNTSSnkF_GCZeujMCxPXi2S0SE-jfR79w/exec", {
    method:"POST",
    body:fd
  });

  document.getElementById("apiResult").innerText = await r.text();
});
</script>


</body>
</html>


