<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Bezwaar starten | ZekerOpWeg</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/styles.css">
</head>

<body class="fade-in">
<section class="container">

<h1>Bezwaar starten</h1>
<p>Vul hieronder uw gegevens in. Wij starten direct uw bezwaarprocedure.</p>

<form id="bezwaarForm">

  <input name="naam" placeholder="Naam" required>
  <input name="email" placeholder="E-mail" required>
  <input name="kenteken" placeholder="Kenteken" required>
  <input name="beschikking" placeholder="Beschikkingsnummer" required>
  <input name="type" placeholder="Overtreding (bijv. parkeren / rood licht)" required>

  <input type="hidden" name="token" value="TEST-PEPIJN">

  <div class="form-group">
    <label>Toelichting bij deze boete</label>
    <textarea name="toelichting" rows="4" placeholder="Korte uitleg"></textarea>
  </div>

  <button class="btn-primary" type="submit">Bezwaar starten</button>
</form>

<div id="apiResult" style="margin-top:1.5rem; font-weight:600;"></div>

<script>
document.getElementById("bezwaarForm").addEventListener("submit", async e => {
  e.preventDefault();

  const fd = new FormData(e.target);
  const data = Object.fromEntries(fd.entries());

  const r = await fetch("https://script.google.com/macros/s/AKfycbxEBIM7_Xf8I13oqyW3uS8cwbZf6qv6eTjTl_ma4HvBFdLFex9HvfTtqqk9OPdNyeBuXQ/exec", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const t = await r.text();
  document.getElementById("apiResult").innerText = t;
});
</script>

</section>
</body>
</html>

