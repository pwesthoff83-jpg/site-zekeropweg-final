<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Bezwaar starten | ZekerOpWeg</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/styles.css">
</head>

<body class="fade-in">

<section class="container">
<div class="contact-card">

<h2>Bezwaar starten</h2>
<p>Upload uw boete en wij starten automatisch uw juridische dossier.</p>

<form id="bezwaarForm" enctype="multipart/form-data">

  <input name="naam" placeholder="Naam" required>
  <input name="email" placeholder="E-mail" required>
  <input name="kenteken" placeholder="Kenteken" required>
  <input name="beschikking" placeholder="Beschikkingsnummer" required>
  <input name="type" placeholder="Overtreding (bijv. parkeren)" required>
  <input name="token" placeholder="Abonnementscode" required>

  <textarea name="toelichting" rows="5" placeholder="Uw toelichting (optioneel)"></textarea>

  <label class="upload-btn">
    Upload boete (PDF of foto)
    <input type="file" name="boete" accept=".pdf,image/*" required>
  </label>

  <button type="submit" class="btn-primary">Bezwaar starten</button>
</form>

<div id="apiResult" style="margin-top:20px;font-weight:600;"></div>
</div>
</section>

<script>
window.addEventListener("DOMContentLoaded", () => {

  const form = document.getElementById("bezwaarForm");
  const result = document.getElementById("apiResult");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    result.innerHTML = "⏳ Dossier wordt aangemaakt...";

    const fd = new FormData(form);

    try {
      const r = await fetch("https://script.google.com/macros/s/AKfycbyBGKESGaCetDAnj5xZ9h9akkV2bDe6YgVG6mkI2zbg0gMdVp7qfgzYHjea3WY-L5xb4Q/exec", {
        method: "POST",
        body: fd
      });

      const t = await r.text();
      result.innerHTML = t;

    } catch (err) {
      console.error(err);
      result.innerHTML = "❌ Verbindingsfout";
    }
  });
});
</script>

</body>
</html>




